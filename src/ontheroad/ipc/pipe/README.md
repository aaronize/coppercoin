## 管道（PIPE）

匿名管道

1. 它是半双工的（即数据只能在一个方向上流动），具有固定的读端和写端；
2. 它只能用于具有亲缘关系的进程之间的通信（也是父子进程或者兄弟进程之间）；
3. 它可以看成是一种特殊的文件，对于它的读写也可以使用普通的read、write 等函数。但是它不是普通的文件，并不属于其他任何文件系统，并且只存在于内存中。

当一个管道建立时，它会创建两个文件描述符：fd[0]为读而打开，fd[1]为写而打开。
```c
#include <unistd.h>
int pipe(int fd[2]);    // 返回值，0成功，-1失败
```

单个进程中的管道几乎没有任何用处。所以，通常调用 pipe 的进程接着调用 fork，这样就创建了父进程与子进程之间的 IPC 通道。

若要数据流从父进程流向子进程，则关闭父进程的读端（fd[0]）与子进程的写端（fd[1]）；反之，则可以使数据流从子进程流向父进程。



